<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <link rel="stylesheet" href={{ url_for('static', filename='styles.css') }}>
</head>
<body>
    <form action="/" method="POST">
    <header>
        <nav>
            {% for cat, msg in get_flashed_messages(True) %}
            <div class="flash {{cat}}">{{ msg }}</div>
            {% endfor %}

            <div class="form">

                <div class="input" id="1" style="display: none;">
                    <label for="login">Логин:</label>
                    <input type="text" id="login" name="login">
                </div>

                <div class="input" id="2" style="display: none;">
                    <label for="name">Имя:</label>
                    <input type="text" id="name" name="name">
                </div>

                <div class="input" id="3" style="display: none;">
                    <label for="password">Пароль:</label>
                    <input type="password" id="password" name="password">
                </div>

                <div class="input" id="4" style="display: none;">
                    <label for="time">Время последнего доступа в систему:</label>
                    <input type="datetime-local" id="datetime" name="datetime">
                </div>

                <div class="input" id="5" style="display: none;">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email">
                </div>

                <div class="input" id="6" style="display: none;">
                    <label for="date_of_birth">Дата рождения:</label>
                    <input type="date" id="date_of_birth" name="date_of_birth">
                </div>
            
                <div class="input" id="7" style="display: none;">
                    <label for="telephone">Телефон:</label>
                    <input type="text" id="telephone" name="telephone">
                </div>
                
                <div class="input" id="8" style="display: none;">
                    <label for="country">Страна:</label>
                    <input type="text" id="country" name="country">
                </div>

                <div class="input" id="9" style="display: none;">
                    <label for="avatar">Аватар:</label>
                    <input type="text" id="avatar" name="avatar">
                </div>


                <div class="input" id="12" style="display: none;">
                    <label for="shortname">Короткое название:</label>
                    <input type="text" id="shortname" name="shortname">
                </div>

                <div class="input" id="13" style="display: none;">
                    <label for="name">Название:</label>
                    <input type="text" id="name" name="name">
                </div>

                <div class="input" id="14" style="display: none;">
                    <label for="desctiption">Описание:</label>
                    <input type="text" id="desctiption" name="desctiption">
                </div>

                <div class="input" id="15" style="display: none;">
                    <label for="duration">Продолжительность:</label>
                    <input type="number" id="duration" name="duration">
                </div>

                <div class="input" id="16" style="display: none;">
                    <label for="rating">Рейтинг:</label>
                    <input type="number" step="0.01" id="rating" name="rating">
                </div>

                <div class="input" id="17" style="display: none;">
                    <label for="beggining">Начало курса:</label>
                    <input type="datetime-local" id="beggining" name="beggining">
                </div>

                <div class="input" id="19" style="display: none;">
                    <label for="price">Стоимость:</label>
                    <input type="number" step="0.01" id="price" name="price">
                </div>

                <div class="input" id="20" style="display: none;">
                    <label for="access">Уровень доступа:</label>
                    <input type="text" id="access" name="access">
                </div>


                <div class="input" id="18" style="display: none;">
                    <label for="role">Роль:</label>
                    <input type="text" id="role" name="role">
                </div>


                <input type="submit" value="Выполнить запрос" class="send">


                <div class="input" id="10" style="display: none;">
                    <label for="limit">LIMIT:</label>
                    <input type="number" id="limit" name="limit">
                </div>

                <div class="input" id="11" style="display: none;">
                    <label for="offset">OFFSET:</label>
                    <input type="number" id="offset" name="offset">
                </div>
            
            </div>

        </nav>
    </header>
    
    <main>
        <section>
            <h2>Выберите таблицу</h2>
            <select id="table-select" name="table-select">
                {% for x in tables %}
                <option value={{x}}>{{x}}</option>
                {% endfor %}
            </select>
        </section>

        <section>
            <h2>Выберите способ работы с таблицей</h2>
            <select id="table-CRUD" name="table-CRUD">
                <option value=none>-- | --</option>
                <option value=creating>Создание</option>
                <option value=read>Просмотр</option>
                <option value=update>Обновление</option>
                <option value=delete>Удаление</option>
            </select>
        </section>
        
        <section>
            <h2>Содержимое таблицы</h2>
            <div id="table-container">
                
                <table>
                    <tr>
                        {% for x in columns %}
                        <th>
                            {{ x }}
                        </th>
                        {% endfor %}
                    </tr>

                    {% for x in rows %}
                    <tr>
                        {% for y in x %}
                        <td>
                        {{ y }}
                        </td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </table>

            </div>
        </section>
    </main>
    
    </form>

    <footer>
        <p>&copy; Distriction</p>
    </footer>
    
    <script>
        const selectOption = document.getElementById('table-select');
        const selection = document.getElementById("table-CRUD");
        const sel1 = document.getElementById('1');
        const sel2 = document.getElementById('2');
        const sel3 = document.getElementById('3');
        const sel4 = document.getElementById('4');
        const sel5 = document.getElementById('5');
        const sel6 = document.getElementById('6');
        const sel7 = document.getElementById('7');
        const sel8 = document.getElementById('8');
        const sel9 = document.getElementById('9');
        const sel10 = document.getElementById('10');
        const sel11 = document.getElementById('11');
        const sel12 = document.getElementById('12');
        const sel13 = document.getElementById('13');
        const sel14 = document.getElementById('14');
        const sel15 = document.getElementById('15');
        const sel16 = document.getElementById('16');
        const sel17 = document.getElementById('17');
        const sel18 = document.getElementById('18');
        const sel19 = document.getElementById('19');
        const sel20 = document.getElementById('20');


        selection.addEventListener('change', function() {
            const selectedValue = this.value;
            sel10.style.display = 'none';
            sel11.style.display = 'none';

            switch (selectedValue) {
            case 'read':{
            sel10.style.display = 'block';
            sel11.style.display = 'block';
            break;}
        }
        });


        selectOption.addEventListener('change', function() {
        const selectedValue = this.value;

        // Скрыть все блоки
        sel1.style.display = 'none';
        sel2.style.display = 'none';
        sel3.style.display = 'none';
        sel4.style.display = 'none';
        sel5.style.display = 'none';
        sel6.style.display = 'none';
        sel7.style.display = 'none';
        sel8.style.display = 'none';
        sel9.style.display = 'none';
        sel12.style.display = 'none';
        sel13.style.display = 'none';
        sel14.style.display = 'none';
        sel15.style.display = 'none';
        sel16.style.display = 'none';
        sel17.style.display = 'none';
        sel18.style.display = 'none';
        sel19.style.display = 'none';
        sel20.style.display = 'none';

        // Показать соответствующий блок
        switch (selectedValue) {
            case 'user':{
                sel1.style.display = 'block';
                sel2.style.display = 'block';
                sel3.style.display = 'block';
                sel4.style.display = 'block';
                sel5.style.display = 'block';
                sel6.style.display = 'block';
                sel7.style.display = 'block';
                sel8.style.display = 'block';
                sel9.style.display = 'block';
            break;}
            case 'course':{
                sel12.style.display = 'block';
                sel13.style.display = 'block';
                sel14.style.display = 'block';
                sel15.style.display = 'block';
                sel16.style.display = 'block';
                sel17.style.display = 'block';
                sel19.style.display = 'block';
                sel20.style.display = 'block';
            break;}
            case 'user_to_course':{
                sel1.style.display = 'block';
                sel12.style.display = 'block';
                sel18.style.display = 'block';
            break;}
        }
        });

    </script>

</body>
</html>
